<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üåø Herb Identifier App</title>

<style>
  body {
    font-family: "Poppins", sans-serif;
    background: #f9f9f9;
    margin: 0;
    padding: 0;
    text-align: center;
  }

  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #4caf50;
    color: white;
    padding: 12px 20px;
  }

  header h1 {
    font-size: 20px;
    flex: 1;
    text-align: center;
  }

  #cameraBtn, #viewToggle {
    background: white;
    color: #4caf50;
    border: none;
    padding: 8px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
  }

  #category-bar {
    display: flex;
    overflow-x: auto;
    background: #e8f5e9;
    padding: 10px;
    white-space: nowrap;
  }

  .category {
    background: #ffffff;
    border: 1px solid #c8e6c9;
    border-radius: 20px;
    padding: 6px 15px;
    margin: 0 5px;
    cursor: pointer;
    font-weight: 500;
  }

  .category.active {
    background: #4caf50;
    color: white;
  }

  #herb-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 15px;
  }

  .herb-card {
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    position: relative;
    text-align: left;
  }

  .herb-card h3 {
    margin: 0 0 8px;
    cursor: pointer;
  }

  .herb-details {
    display: none;
    margin-top: 8px;
    font-size: 14px;
  }

  .star-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    font-size: 20px;
    color: #bbb;
    cursor: pointer;
  }

  .star-btn.favorited {
    color: gold;
    text-shadow: 0 0 5px #ffeb3b;
  }

  /* GRID MODE */
  body.grid #herb-list {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
  }

  body.grid .herb-card {
    width: 45%;
    max-width: 300px;
    text-align: center;
  }

  @media (max-width: 600px) {
    body.grid .herb-card {
      width: 100%;
    }
  }
</style>
</head>

<body>

<header>
  <button id="cameraBtn">üì∑</button>
  <h1>üåø Herb Identifier</h1>
  <button id="viewToggle">üî≥ View</button>
</header>

<div id="category-bar">
  <button class="category active" data-category="all">All</button>
  <button class="category" data-category="Favorites">‚≠ê Favorites</button>
</div>

<div id="herb-list"></div>

<script>
// üåø START OF HERB IDENTIFIER DATA
const herbs = [
  {
    name: "Abang-abang ‚Äì Bloodleaf / Joseph‚Äôs Coat",
    description: "A colorful plant with red, purple, and green leaves used to stop bleeding and ease cough.",
    purpose: "Stops bleeding, heals small wounds, relieves mild cough, and boosts blood health.",
    preparation: "1. Crush leaves and apply on wounds. 2. Boil a handful of leaves in 2 cups of water for 10 mins; drink half a cup twice daily.",
    whenToApply: "For wounds, bleeding, or cough.",
    cautions: "Avoid internal use during pregnancy."
  },
  {
    name: "Abtik-abtik ‚Äì Speedwell",
    description: "A creeping herb with small blue flowers used for cough, rashes, and sore throat.",
    purpose: "Soothes throat, reduces skin irritation, and relieves mild cough.",
    preparation: "1. Steep 1 tsp dried leaves in hot water; drink warm. 2. Boil leaves and use water to wash affected skin.",
    whenToApply: "When having cough or skin irritation.",
    cautions: "Avoid if allergic to herbal plants."
  },
  {
    name: "Abubot ‚Äì Sensitive Plant (Mimosa pudica)",
    description: "A shy plant whose leaves close when touched, used for calming and wound healing.",
    purpose: "For insomnia, wounds, and urinary tract discomfort.",
    preparation: "1. Boil roots for 15 mins; drink before bed. 2. Crush fresh leaves and apply on wounds.",
    whenToApply: "For sleeplessness or small wounds.",
    cautions: "Avoid use during pregnancy; may lower blood pressure."
  },
  {
    name: "Akapulko / Sibukaw ‚Äì Ringworm Bush",
    description: "A tall shrub with yellow flowers used as natural antifungal medicine.",
    purpose: "Cures ringworm, scabies, and other fungal skin infections.",
    preparation: "1. Rub crushed leaves on skin twice daily. 2. Mix with coconut oil to make ointment.",
    whenToApply: "For fungal skin infections.",
    cautions: "External use only."
  },
  {
    name: "Alugbati ‚Äì Malabar Spinach",
    description: "A leafy vine used as food and medicine, known for cooling and cleansing the body.",
    purpose: "Relieves constipation, cools the body, and improves skin health.",
    preparation: "1. Eat steamed or boiled leaves. 2. Drink boiled leaf water as cooling tea.",
    whenToApply: "For constipation or heat in the body.",
    cautions: "Overeating may cause loose stools."
  },
  {
    name: "Ampalaya ‚Äì Bitter Gourd",
    description: "A bitter vine known for its health benefits, especially for blood sugar and digestion.",
    purpose: "For diabetes, digestion, and immunity.",
    preparation: "1. Boil sliced leaves or fruit for 10 mins; drink half cup twice daily. 2. Eat as vegetable dish or juice.",
    whenToApply: "For diabetes or low immunity.",
    cautions: "Avoid excessive use during pregnancy."
  },
  {
    name: "Banaba ‚Äì Giant Crape Myrtle",
    description: "A tree with purple flowers, known for lowering blood sugar and aiding weight loss.",
    purpose: "For diabetes, weight loss, and kidney cleansing.",
    preparation: "Boil dried leaves for 10 mins; drink 1 cup twice daily.",
    whenToApply: "For high blood sugar or kidney issues.",
    cautions: "May enhance effect of anti-diabetic drugs."
  },
  {
    name: "Bayabas ‚Äì Guava",
    description: "Common herbal plant used for diarrhea, oral health, and wounds.",
    purpose: "Used for diarrhea, wound washing, and mouth sores.",
    preparation: "Boil leaves and drink tea; use decoction to wash wounds or gargle.",
    whenToApply: "For diarrhea or wounds.",
    cautions: "Avoid overuse internally."
  },
  {
    name: "Calamansi ‚Äì Philippine Lime",
    description: "Small citrus fruit rich in Vitamin C used for cough and sore throat.",
    purpose: "Used for cough, sore throat, and skin care.",
    preparation: "Mix juice with honey; take 1 tbsp 3x daily. Apply diluted juice on dark spots for 5 mins.",
    whenToApply: "For cough, fever, or dark spots.",
    cautions: "Avoid on open wounds or ulcers."
  },
  {
    name: "Cucumber ‚Äì Pipino",
    description: "Hydrating vegetable used for cooling and soothing effects.",
    purpose: "For skin cooling, blood pressure, and puffy eyes.",
    preparation: "Apply slices on face; drink juice daily; chill slices for eyes.",
    whenToApply: "For heat or high BP.",
    cautions: "Avoid excessive juice in kidney patients."
  },
  {
    name: "Dalandan ‚Äì Native Orange",
    description: "Local citrus fruit rich in Vitamin C.",
    purpose: "Used for cough, sore throat, and weakness.",
    preparation: "Drink juice with honey; gargle with salt and warm water.",
    whenToApply: "For colds or fatigue.",
    cautions: "Avoid in people with ulcers."
  },
  {
    name: "Ginger ‚Äì Luya",
    description: "Common kitchen spice with medicinal properties.",
    purpose: "Relieves nausea, cough, and joint pain.",
    preparation: "Boil slices for tea; apply warm compress for pain.",
    whenToApply: "For cough or pain.",
    cautions: "Avoid excess if with gallstones."
  }
];

// üåø FAVORITES + DISPLAY LOGIC
let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
let currentCategory = "all";
const herbList = document.getElementById("herb-list");
const categoryButtons = document.querySelectorAll(".category");
const viewToggle = document.getElementById("viewToggle");

function displayHerbs() {
  herbList.innerHTML = "";

  let filtered = herbs.filter(h =>
    currentCategory === "all"
      ? true
      : currentCategory === "Favorites"
      ? favorites.includes(h.name)
      : h.category === currentCategory
  );

  if (filtered.length === 0) {
    herbList.innerHTML = `<p>No herbs found.</p>`;
    return;
  }

  filtered.forEach(h => {
    const card = document.createElement("div");
    card.className = "herb-card";
    const isFav = favorites.includes(h.name);

    card.innerHTML = `
      <h3>${h.name}</h3>
      <button class="star-btn ${isFav ? "favorited" : ""}" data-herb="${h.name}">‚òÖ</button>
      <div class="herb-details">
        <p><strong>Description:</strong> ${h.description}</p>
        <p><strong>Purpose:</strong> ${h.purpose}</p>
        <p><strong>Preparation:</strong> ${h.preparation}</p>
        <p><strong>When to Apply:</strong> ${h.whenToApply}</p>
        <p><strong>Cautions:</strong> ${h.cautions}</p>
      </div>
    `;
    herbList.appendChild(card);
  });

  document.querySelectorAll(".herb-card h3").forEach(title => {
    title.addEventListener("click", () => {
      const details = title.parentElement.querySelector(".herb-details");
      details.style.display = details.style.display === "block" ? "none" : "block";
    });
  });

  document.querySelectorAll(".star-btn").forEach(btn => {
    btn.addEventListener("click", e => {
      e.stopPropagation();
      const herbName = e.target.dataset.herb;
      if (favorites.includes(herbName)) {
        favorites = favorites.filter(f => f !== herbName);
      } else {
        favorites.push(herbName);
      }
      localStorage.setItem("favorites", JSON.stringify(favorites));
      displayHerbs();
    });
  });
}

displayHerbs();

categoryButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    currentCategory = btn.dataset.category;
    categoryButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    displayHerbs();
  });
});

viewToggle.addEventListener("click", () => {
  document.body.classList.toggle("grid");
});
</script>

</body>
</html>
